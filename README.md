# 📱 TradeSim v2.1 - 株価分析学習アプリ

**🆕 JQuants API対応 | 🏆 品質保証済み | 🌍 グローバル検索対応 | 📚 教育特化**  
初心者から上級者まで、株価分析とポートフォリオ管理を**段階的に**学べる教育専用Webアプリです。

## 🌐 ライブデモ

**[📱 今すぐ使ってみる！](https://tradesim-9djzkadr39vp8jt2dxcgud.streamlit.app/)**

---

## 🆕 v2.1 新機能・技術仕様

### 🔥 JQuants API統合（NEW!）

- **🇯🇵 日本株**: 全上場企業4,000社以上をリアルタイム検索
- **📊 高精度データ**: 市場区分・取引所情報・企業英語名
- **🚀 即座検索**: 会社名入力で瞬時に候補表示
- **🔐 セキュア**: 認証情報はセッション中のみ保持

### 🌍 グローバル検索強化

- **Alpha Vantage統合**: 世界中の株式市場対応
- **🔍 統合検索**: JQuants + Alpha Vantage のハイブリッド検索
- **💱 多通貨対応**: USD, JPY, EUR, GBP等自動判定
- **⚡ パフォーマンス**: API認証トークンキャッシュで高速化

### 🧪 品質保証

- **総テスト数**: 58個
- **成功率**: 100% ✅
- **実行時間**: 6.76秒
- **カバレッジ**: 統合テスト14個、シグナル生成24個、テクニカル分析20個

### 🔧 技術スタック

```python
# 主要ライブラリ
streamlit      # Webアプリフレームワーク
pandas         # データ処理
numpy          # 数値計算
yfinance       # 株価データ取得
plotly         # インタラクティブチャート
ta             # テクニカル分析（TA-Lib）
scipy          # 科学計算
requests       # API通信
pytest         # テスト（58個）
```

---

## 🎯 主な機能とアプローチ

### 🔍 銘柄検索システム

```bash
🔍 検索例：「トヨタ」
📊 結果：
🇯🇵 7203.T - トヨタ自動車株式会社
🌍 TM - Toyota Motor Corp
```

### 📈 動的重み付け分析（AI判定）

アプリが市場パターンを自動検出し、最適な分析戦略を提案：

| パターン | 説明 | 戦略重視項目 | 学習目標 |
|----------|------|-------------|----------|
| **上昇トレンド** | 持続的な価格上昇 | 移動平均・MACD重視 | トレンドフォロー投資 |
| **下降トレンド** | 持続的な価格下降 | 反転ポイント重視 | 逆張り投資タイミング |
| **レンジ相場** | 一定範囲内での変動 | RSI・ボリンジャー重視 | 値幅取り投資 |
| **転換期** | トレンド変化の可能性 | MACD最重視 | 転換点の見極め |
| **加速相場** | 急激な価格変動 | 出来高重視 | ボラティリティ対応 |
| **調整局面** | 大きな動きの後の調整 | 安定指標重視 | リスク管理 |

### 🛠️ 分析機能

- **📊 テクニカル分析**: 移動平均線、RSI、ボリンジャーバンド、MACD
- **💰 バックテストシミュレーション**: リアルな投資結果予測
- **💼 ポートフォリオ管理**: 多通貨対応ウォッチリスト
- **📱 レスポンシブUI**: 全デバイス対応（PC・タブレット・スマホ）

---

## 🎓 レベル別推奨設定と学習ガイド

### 👶 **初心者向け設定** - まずはここから！

#### 🎯 推奨設定
```bash
検索方法: ⌨️ 銘柄コードを直接入力（最もシンプル！）
分析期間: 3ヶ月（デフォルト）
重み付けモード: 🤖 適応的重み付け（AI判定）
銘柄例: 7203.T（トヨタ）、AAPL（Apple）、MSFT（Microsoft）
```

#### 📚 なぜこの設定？
- **銘柄コード直接入力**: API設定不要で確実に分析可能
- **3ヶ月期間**: 短期トレンドを理解しやすい期間
- **AI判定**: 難しい重み付け調整をアプリが自動実行
- **有名企業**: Yahoo Financeで簡単に銘柄コードを調べられる

#### ⚠️ 会社名検索の制限について
```bash
❌ API設定なしの会社名検索は限定的
- 検索できる企業は数社程度（トヨタ、Apple等のみ）
- 入門体験レベルの機能

✅ 銘柄コード直接入力が確実
- Yahoo Finance等で事前に銘柄コードを調べる
- 100% 確実に分析実行可能
```

#### 🔍 注目すべきポイント
1. **パターン検出結果**: アプリが「上昇トレンド」等を判定
2. **重み付け説明**: なぜそのテクニカル指標を重視するかの解説
3. **シグナルスコア**: 買い・売りの強さを数値で理解
4. **バックテスト結果**: 「もし投資していたら」の結果確認

#### 💡 学習のコツ
```bash
1. 銘柄コードの調べ方：
   - Yahoo Finance（finance.yahoo.com）で企業名検索
   - Google検索「企業名 + 銘柄コード」
   - 日本株：証券コード + .T（例：7203.T）
   - 米国株：ティッカーシンボル（例：AAPL）

2. 分析実践：
   - 同じ企業を違う期間（1ヶ月、6ヶ月）で分析比較
   - パターン検出の説明文をよく読む
   - バックテスト結果で「利益率」より「勝率」に注目
   - ウォッチリストに追加して複数企業を比較
```

---

### 🎯 **中級者向け設定** - API活用でレベルアップ

#### 🎯 推奨設定
```bash
検索方法: 🇯🇵 JQuants API（日本株4,000社フル活用）
分析期間: 6ヶ月-1年
重み付けモード: 🎛️ 手動重み付け
テクニカル設定: パラメータ調整に挑戦
バックテスト: リスク設定も調整
```

#### 📚 なぜこの設定？
- **JQuants API**: 日本株4,000社の正確な企業情報で大幅に選択肢拡大
- **中期分析**: より安定したトレンドとパターンを理解
- **手動重み付け**: 各テクニカル指標の特性を体験学習
- **パラメータ調整**: 移動平均期間等の設定変更で感度を学習

#### 🔧 API設定の価値
```bash
✅ JQuants API設定のメリット：
- 全上場企業4,000社から選択可能
- 正確な企業名・市場区分情報
- 会社名の一部で検索可能
- 無料アカウントで十分利用可能

⚠️ 設定が面倒な場合：
- 引き続き銘柄コード直接入力でOK
- 分析機能は同じように使用可能
- API設定は余裕のある時に挑戦
```

#### 🔍 注目すべきポイント
1. **JQuants企業情報**: 市場区分（プライム・スタンダード・グロース）
2. **重み付け比較**: 手動設定 vs 自動判定の結果比較
3. **パラメータ影響**: MA期間20日 vs 50日の違い
4. **リスク・リターン**: ストップロス設定による影響分析

#### 💡 学習のコツ
```bash
1. 同じ銘柄で「手動」「自動判定」を比較実験
2. 業界別（IT、自動車、金融等）でパターン傾向を観察
3. 重み付け設定で「なぜその比率にしたか」を言語化
4. バックテスト設定を変えて「リスク許容度」を体感
```

#### 🛠️ おすすめ手動重み付け設定
```bash
トレンド重視パターン:
- 移動平均: 40%
- MACD: 30%
- RSI: 20%
- ボリンジャーバンド: 10%

レンジ相場パターン:
- RSI: 35%
- ボリンジャーバンド: 35%
- 移動平均: 20%
- MACD: 10%
```

---

### 🚀 **上級者向け設定** - 高度な学習

#### 🎯 推奨設定
```bash
検索方法: 🚀 JQuants + Alpha Vantage ハイブリッド
分析期間: 1年以上 + 複数期間比較
重み付けモード: 全モード併用比較
グローバル学習: 地域・通貨分散を意識した学習
高度分析: パフォーマンス指標を深く学習
```

#### 📚 なぜこの設定？
- **ハイブリッド検索**: 日本株と海外株の同企業比較学習（トヨタ vs Toyota）
- **長期分析**: ノイズを排除したトレンド分析の学習
- **全モード比較**: 各分析手法の特性と適用場面を理解
- **グローバル視点**: 通貨リスクと地域分散投資の学習

#### 🔍 注目すべきポイント
1. **企業比較分析**: 同企業の日米上場株式の値動き差を学習
2. **通貨リスク**: JPY/USD変動が投資結果に与える影響を体験
3. **市場構造**: 東証プライム vs NYSE の特性差を理解
4. **相関分析**: 異なる地域・業界銘柄の相関関係を学習

#### 💡 学習のコツ
```bash
1. 同一企業の複数市場上場株（7203.T vs TM）を比較分析
2. ポートフォリオを「地域別」「通貨別」「業界別」で構成学習
3. バックテスト結果を「年間収益率」「最大ドローダウン」「シャープレシオ」で評価
4. 市場イベント（決算、政策発表等）とテクニカル指標の関係を観察
```

#### 🌍 グローバル分析学習例
```bash
自動車業界比較学習:
🇯🇵 7203.T (トヨタ) - 東証プライム | JPY
🌍 TM (Toyota) - NYSE | USD  
🌍 F (Ford) - NYSE | USD
🇩🇪 BMW.DE (BMW) - XETRA | EUR

通貨分散ポートフォリオ学習:
JPY 40% | USD 40% | EUR 20%
```

---

## 🚀 クイックスタート

### 🌟 推奨：オンライン利用

**[📱 ライブデモ](https://tradesim-9djzkadr39vp8jt2dxcgud.streamlit.app/)**をクリック！

### 🎯 初心者向け：最短スタート手順

#### Step 1: 銘柄コードを調べる
```bash
📍 Yahoo Finance で検索：
1. https://finance.yahoo.com/ にアクセス
2. 企業名を英語で検索（例：「Toyota」）
3. 銘柄コード確認（例：7203.T, TM）

🇯🇵 日本株の場合：
- 証券コード + .T（例：7203.T）
- 東証：プライム・スタンダード・グロース

🇺🇸 米国株の場合：
- ティッカーシンボル（例：AAPL, MSFT）
- NASDAQ, NYSE等
```

#### Step 2: アプリで分析
```bash
1. 「⌨️ コードを直接入力」を選択
2. 調べた銘柄コードを入力
3. 「🚀 分析開始」ボタンをクリック
4. 結果を確認！

💡 これが最も確実で簡単な方法です
```

#### Step 3: よく使う銘柄コード例
```bash
🇯🇵 日本の有名企業：
- 7203.T: トヨタ自動車
- 6758.T: ソニーグループ
- 9984.T: ソフトバンクグループ
- 7974.T: 任天堂
- 6861.T: キーエンス

🇺🇸 米国の有名企業：
- AAPL: Apple
- MSFT: Microsoft
- GOOGL: Google (Alphabet)
- AMZN: Amazon
- TSLA: Tesla
```

### 🏠 ローカル実行（中・上級者）

```bash
# 1. リポジトリクローン
git clone https://github.com/your-username/TradeSim.git
cd TradeSim

# 2. 依存関係インストール
pip install -r requirements.txt

# 3. アプリケーション起動
streamlit run app.py

# 4. ブラウザで http://localhost:8501 にアクセス
```

### ⚙️ 環境変数設定（上級者向け）
```bash
# .env ファイル作成
JQUANTS_EMAIL=your-email@example.com
JQUANTS_PASSWORD=your-password
ALPHA_VANTAGE_API_KEY=your-api-key
```

---

## 📊 使い方（レベル別詳細）

### 🆕 銘柄検索の使い方

#### 初心者: 銘柄コード直接入力（推奨）
```bash
1. 「⌨️ コードを直接入力」を選択
2. 事前にYahoo Finance等で銘柄コードを調べる
   - 日本株例：7203.T（トヨタ）、6758.T（ソニー）
   - 米国株例：AAPL（Apple）、MSFT（Microsoft）
3. 銘柄コードを入力してEnter
4. そのまま「🚀 分析開始」ボタン

💡 確実で簡単！API設定不要
```

#### 中級者: JQuants API活用（日本株特化）
```bash
1. 「🔧 API設定」を展開
2. 「🇯🇵 JQuants API を使用」をON
3. 無料アカウントでメールアドレス・パスワードを入力
4. 「🔍 会社名で検索」で企業名の一部を入力
5. 4,000社の正確な企業情報から選択

💡 日本株なら圧倒的に便利！会社名の一部で検索可能
```

#### ⚠️ 基本検索の制限（参考程度）
```bash
API設定なしの会社名検索：
- 検索できる企業は数社のみ（トヨタ、Apple等）
- あくまで入門体験用
- 本格利用なら銘柄コード直接入力 or API設定を推奨
```

#### 上級者: ハイブリッド検索（最高精度）
```bash
1. JQuants + Alpha Vantage 両方を有効化
2. 同企業の複数市場比較分析
   例：「トヨタ」検索 → 7203.T（東証）& TM（NYSE）
3. 通貨・取引所・地域情報を確認
4. グローバル分散投資の視点で銘柄選択

💡 上級学習！グローバル投資分析の学習が可能
```

### 📈 分析実行フロー

#### 初心者フロー（推奨）
1. **銘柄コード調査**: Yahoo Finance等で事前に銘柄コードを調べる
2. **直接入力**: 「⌨️ コードを直接入力」で確実に銘柄指定
3. **期間設定**: 3ヶ月（デフォルト）
4. **分析実行**: 「🚀 分析開始」
5. **結果理解**: パターン検出結果と重み付け理由を読む
6. **学習**: 「なぜその判定になったか」を理解

#### 中級者フロー
1. **銘柄選択**: JQuants APIで精度向上
2. **期間設定**: 6ヶ月〜1年で複数期間比較
3. **重み付け調整**: 手動設定で実験
4. **詳細設定**: テクニカルパラメータ調整
5. **比較分析**: 設定違いでの結果比較

#### 上級者フロー
1. **グローバル検索**: 複数市場の同企業比較学習
2. **複数期間分析**: 1年+ の長期トレンド学習
3. **全手法比較**: 固定・適応・手動の3パターン学習
4. **ポートフォリオ構築**: 地域・通貨・業界分散の学習
5. **高度評価**: シャープレシオ等の指標分析学習

---

## 📚 投資用語集 - ユーザー向け

**アプリで使われる投資・分析用語をわかりやすく解説**

### 📈 **基本的な株価用語**

#### 💰 **株価の基本**

| 用語 | 意味 | 例 |
|------|------|-----|
| **株価** | その会社の株式1株あたりの値段 | 3,000円 |
| **銘柄コード** | 会社を識別する番号や記号 | 7203.T（トヨタ）、AAPL（Apple） |
| **終値** | その日の最後に取引された値段 | 当日の最終価格 |
| **始値** | その日の最初に取引された値段 | 当日の開始価格 |
| **高値** | その日の最も高い値段 | 当日の最高価格 |
| **安値** | その日の最も安い値段 | 当日の最安価格 |
| **出来高** | その日に取引された株数 | 1,000万株 |

#### 📊 **トレンド（方向性）**

| 用語 | 意味 | どんな時？ |
|------|------|----------|
| **上昇トレンド** | 株価が上がり続けている状況 | 買い需要が強い、業績好調 |
| **下降トレンド** | 株価が下がり続けている状況 | 売り圧力が強い、悪材料 |
| **レンジ相場** | 株価が一定の範囲で上下している状況 | 様子見、材料待ち |
| **調整** | 大きく上がった後の一時的な下落 | 利益確定売り |
| **反発** | 下がった後の一時的な上昇 | 割安感からの買い |

### 📊 **テクニカル分析用語**

#### 📈 **移動平均線**

| 用語 | 意味 | 見方 |
|------|------|------|
| **移動平均線** | 過去一定期間の平均株価を線で表示 | トレンドの方向を見る |
| **短期移動平均** | 直近20日程度の平均 | 短期的な動きを表す |
| **長期移動平均** | 直近50日程度の平均 | 長期的な動きを表す |
| **ゴールデンクロス** | 短期線が長期線を上に突破 | 🟢 買いサイン |
| **デッドクロス** | 短期線が長期線を下に突破 | 🔴 売りサイン |

**📚 初心者向け解説**:
移動平均線は「株価の平均点」のようなもの。テストの平均点が上がっていれば成績向上、下がっていれば成績悪化と同じです。

#### 🌡️ **RSI（相対力指数）**

| 用語 | 意味 | 数値の見方 |
|------|------|----------|
| **RSI** | 買われすぎ・売られすぎを0-100%で表示 | 株価の「熱」を測る体温計 |
| **買われすぎ** | RSI 70%以上 | 🔴 そろそろ下がるかも |
| **売られすぎ** | RSI 30%以下 | 🟢 そろそろ上がるかも |
| **中立** | RSI 30-70% | ⚪ 普通の状態 |

**📚 初心者向け解説**:
RSIは株価の「興奮度」を測る体温計。熱が出すぎ（70%以上）なら休憩が必要、体温が低すぎ（30%以下）なら元気になる可能性があります。

#### 📊 **ボリンジャーバンド**

| 用語 | 意味 | 見方 |
|------|------|------|
| **ボリンジャーバンド** | 株価の「いつもの範囲」を表示 | 3本の線で構成 |
| **上限ライン** | 普通より高い価格帯 | ここを超えると「高すぎ」 |
| **中心ライン** | 平均的な価格帯 | 移動平均線と同じ |
| **下限ライン** | 普通より安い価格帯 | ここを下回ると「安すぎ」 |

**📚 初心者向け解説**:
ボリンジャーバンドは株価の「普通の範囲」を示すもの。商品の「通常価格」と「特価」「プレミアム価格」を線で表示していると考えてください。

#### ⚡ **MACD**

| 用語 | 意味 | 見方 |
|------|------|------|
| **MACD** | 株価の勢いの変化を測る指標 | 加速度を測るスピードメーター |
| **買いシグナル** | MACDが上向きに転換 | 🟢 上昇の勢いが強まっている |
| **売りシグナル** | MACDが下向きに転換 | 🔴 下降の勢いが強まっている |

**📚 初心者向け解説**:
MACDは車のアクセルのようなもの。アクセルを踏み始めた（上向き）なら加速、ブレーキを踏み始めた（下向き）なら減速を示します。

### 💰 **投資パフォーマンス用語**

#### 📈 **基本的な成績**

| 用語 | 意味 | 良い値 | 悪い値 |
|------|------|-------|-------|
| **総リターン** | 投資でどれだけ儲かったか（％） | +10%以上 | マイナス値 |
| **勝率** | 利益が出た取引の割合 | 60%以上 | 40%以下 |
| **利益確定** | 儲かっているうちに売ること | タイミングが重要 | - |
| **損切り** | 損失が拡大する前に売ること | 重要なリスク管理 | - |

#### ⚡ **リスク指標**

| 用語 | 意味 | 良い値 | 悪い値 |
|------|------|-------|-------|
| **最大ドローダウン** | 最も大きく資産が減った時の割合 | -5%以内 | -20%以下 |
| **ボラティリティ** | 価格変動の激しさ | 低め（安定） | 高め（不安定） |
| **シャープレシオ** | リスクを考慮した効率性 | 1.0以上 | 0以下 |

**📚 初心者向け解説**:
- **最大ドローダウン**: 「最悪の時にどれだけ損したか」。-10%なら100万円が90万円になった時があるという意味
- **シャープレシオ**: 「リスクに見合った利益が出ているか」。1.0以上なら効率的

### 🎯 **売買シグナル用語**

#### 📊 **シグナルの種類**

| 用語 | 意味 | 表示 |
|------|------|------|
| **買いシグナル** | 「今が買い時かも」という合図 | 🟢 緑の矢印 |
| **売りシグナル** | 「今が売り時かも」という合図 | 🔴 赤の矢印 |
| **中立** | 「様子見」という状況 | ⚪ 矢印なし |
| **シグナル強度** | そのシグナルの信頼度 | 強い・普通・弱い |

#### 🎛️ **分析手法**

| 用語 | 意味 | どんな人向け？ |
|------|------|-------------|
| **固定重み付け** | いつも同じ方法で分析 | 初心者、安定志向 |
| **適応重み付け** | 相場に合わせて分析方法を変更 | 中級者、精度重視 |
| **手動重み付け** | 自分で分析方法をカスタマイズ | 上級者、こだわり派 |

### 🌍 **市場・企業情報用語**

#### 🏢 **企業・市場情報**

| 用語 | 意味 | 例 |
|------|------|-----|
| **市場区分** | どの取引所に上場しているか | 東証プライム、NASDAQ |
| **時価総額** | 会社全体の価値 | 30兆円（トヨタ） |
| **業種** | どんな事業をしている会社か | 自動車、IT、金融 |
| **通貨** | どの通貨で取引されているか | 日本円（JPY）、米ドル（USD） |

#### 🌍 **地域分散**

| 用語 | 意味 | メリット |
|------|------|---------|
| **地域分散** | 複数の国の株を持つこと | リスク分散 |
| **通貨リスク** | 為替変動による影響 | 円高・円安の影響 |
| **グローバル投資** | 世界中の株に投資すること | 成長機会の拡大 |

### 📊 **バックテスト用語**

#### 🎮 **シミュレーション**

| 用語 | 意味 | 目的 |
|------|------|------|
| **バックテスト** | 過去のデータで投資戦略をテスト | 「もし投資していたら？」を検証 |
| **初期資金** | シミュレーションの開始資金 | 通常100万円 |
| **取引コスト** | 売買にかかる手数料 | 現実的な条件設定 |
| **リスク許容度** | どれだけリスクを取るか | 1回の取引で資金の何%まで |

#### 📈 **設定項目**

| 用語 | 意味 | 一般的な設定 |
|------|------|------------|
| **損切り設定** | どこまで下がったら諦めるか | -5%〜-10% |
| **利益確定設定** | どこまで上がったら売るか | +10%〜+20% |
| **分析期間** | どの期間のデータで分析するか | 3ヶ月〜1年 |

### 🎯 **相場パターン用語**

#### 📈 **よくある相場パターン**

| パターン | 特徴 | 投資家の心理 | 対応策 |
|----------|------|------------|-------|
| **上昇トレンド** | ずっと上がり続けている | 「まだ上がる！」楽観的 | トレンドに乗る |
| **下降トレンド** | ずっと下がり続けている | 「まだ下がる...」悲観的 | 様子見、または逆張り |
| **レンジ相場** | 同じくらいの値段を行ったり来たり | 「方向性がわからない」迷い | 短期売買 |
| **急騰・急落** | 突然大きく動く | パニック、興奮状態 | 冷静な判断が重要 |

#### 🎯 **投資戦略用語**

| 用語 | 意味 | どんな時に使う？ |
|------|------|---------------|
| **トレンドフォロー** | 流れに逆らわず同じ方向に投資 | 明確な上昇・下降トレンド |
| **逆張り** | みんなと反対のことをする | 下がりすぎ・上がりすぎの時 |
| **押し目買い** | 上昇中の一時的な下落で買う | 上昇トレンド中 |
| **戻り売り** | 下降中の一時的な上昇で売る | 下降トレンド中 |

### 🔰 **初心者が覚えるべき重要用語TOP10**

1. **株価** - 会社の価値を表す数字
2. **トレンド** - 株価の方向性（上昇・下降・横ばい）
3. **移動平均線** - 株価の平均的な流れを示す線
4. **買いシグナル/売りシグナル** - 売買のタイミングを示すサイン
5. **リターン** - 投資でどれだけ儲かったか
6. **リスク** - 投資で損をする可能性
7. **分散投資** - 複数の投資先に分けてリスクを減らすこと
8. **損切り** - 損失を限定するために早めに売ること
9. **バックテスト** - 過去のデータで投資戦略をテストすること
10. **余裕資金** - 失っても生活に困らないお金

### 🎯 **このアプリでの用語の使われ方**

#### 📱 **画面で見る主な用語**
- 分析結果: 「上昇トレンドを検出」
- シグナル: 「買いシグナル発生」
- パフォーマンス: 「総リターン +8.5%」
- リスク: 「最大ドローダウン -3.2%」

#### 🎓 **学習に役立つ用語**
- **教育目的**: 実際のお金は使わない安全な学習
- **シミュレーション**: 「もしも」の世界で練習
- **パターン学習**: よくある株価の動きを覚える
- **リスク体験**: 安全に投資のリスクを理解

---

## 🔧 API設定ガイド（レベル別）

### 🇯🇵 JQuants API設定（中級者以上推奨）

#### 1. アカウント作成（無料）
1. [JQuants公式サイト](https://jpx-jquants.com/)にアクセス
2. 無料会員登録（メールアドレスのみ）
3. 認証情報を取得

#### 2. アプリでの設定
```bash
JQuantsメールアドレス: your-email@example.com
JQuantsパスワード: your-password

# セキュリティ:
✅ 認証情報はセッション中のみ保持
✅ セッション終了時に自動削除
✅ サーバー側での保存なし
```

#### 3. 利用可能データ
- ✅ 全上場企業（4,000社以上）
- ✅ リアルタイム銘柄マスタ
- ✅ 市場区分（プライム・スタンダード・グロース）
- ✅ 企業英語名・業種分類
- ✅ 1時間キャッシュで高速化

### 🌍 Alpha Vantage API設定（上級者推奨）

#### 1. API Key取得（無料）
1. [Alpha Vantage](https://www.alphavantage.co/support/#api-key)にアクセス
2. 無料API Key取得（月500回まで）
3. より多くのリクエストが必要な場合は有料プラン

#### 2. アプリでの設定
```bash
Alpha Vantage API Key: YOUR_API_KEY_HERE

# 制限:
📊 無料プラン: 月500回
⚡ レスポンス: 通常3秒以内
🌍 対象市場: 世界中の主要取引所
```

#### 3. 利用可能データ
- ✅ 世界中の株式市場（米国・欧州・アジア）
- ✅ 地域・通貨・取引所情報
- ✅ リアルタイム企業検索
- ✅ 企業の詳細情報

---

## ⚡ パフォーマンス最適化

### キャッシュ戦略
```python
# JQuants認証トークンキャッシュ（1時間）
if token_expires > current_time:
    return cached_token
else:
    refresh_token()

# 検索結果キャッシュ
@lru_cache(maxsize=100)
def cached_search(keyword, api_config):
    return api_search(keyword, api_config)
```

### レスポンス時間
- **基本検索**: < 0.1秒
- **JQuants検索**: < 2秒  
- **Alpha Vantage検索**: < 3秒
- **統合検索**: < 5秒

---

## 📈 サポート銘柄

### 🇯🇵 日本株（JQuants API対応）
- **全上場企業**: 4,000社以上
- **市場**: 東証プライム・スタンダード・グロース、名証等
- **例**: トヨタ(7203.T), ソニー(6758.T), 任天堂(7974.T)等

### 🌍 海外株（Alpha Vantage API対応）
- **米国**: Apple(AAPL), Microsoft(MSFT), Google(GOOGL)等
- **欧州**: ASML(ASML.AS), SAP(SAP.DE)等  
- **アジア**: Tencent(0700.HK), Samsung等

---

## 🔐 セキュリティとプライバシー

### API認証情報の取り扱い
```python
# ✅ セキュア：セッション中のみ保持
jquants_config = {
    "email": "user-input",      # type="default"
    "password": "user-input"    # type="password"
}

# ✅ セキュア：メモリから自動削除
# セッション終了時に認証情報は自動的にクリア
```

### プライバシー保護
- 🔒 認証情報はセッション中のみ保持
- 🗑️ セッション終了時に自動削除
- 🚫 サーバー側での認証情報保存なし
- 🛡️ HTTPS通信によるデータ保護

---

## 🐛 トラブルシューティング

### よくある問題と解決方法

#### 1. 🇯🇵 JQuants認証エラー
```bash
❌ エラー: JQuants API認証に失敗しました
✅ 解決: 
- メールアドレス・パスワードの確認
- JQuantsアカウントの有効性確認
- 一時的なサービス停止の可能性
```

#### 2. 🌍 Alpha Vantage制限エラー
```bash
❌ エラー: API制限に達しました
✅ 解決:
- 1日後に再試行
- 有料プランへのアップグレード
- 検索頻度の調整
```

#### 3. 🔍 検索結果が空
```bash
❌ 問題: 検索結果が得られない
✅ 解決:
- API設定を確認
- キーワードを英語/日本語で変更
- 「⌨️ コードを直接入力」を使用
- 銘柄コードでの直接検索
```

---

## 📚 教育コンテンツ

### 学習目標
- **株式投資の基本概念**の理解
- **テクニカル分析**の実践的習得
- **グローバル市場**への理解促進
- **リスク管理**の重要性認識
- **市場構造**の理解（取引所・通貨等）

### 実践的アドバイス
- 💰 余裕資金での投資の重要性
- 🎯 **地域分散投資**によるリスク軽減
- 💱 **通貨リスク**の理解
- 😌 感情的にならない投資判断
- 📈 長期的視点の保持

### レベル別学習パス

#### 🟢 初心者パス（1-2週間）
```bash
Week 1: 基本操作習得
- 銘柄コードの調べ方をマスター
- 有名企業（トヨタ、Apple等）での分析体験
- パターン検出結果の理解
- 銘柄コード直接入力での確実な分析実行

Week 2: 比較分析
- 複数企業の比較（日本株と米国株）
- 期間設定の影響確認（3ヶ月 vs 6ヶ月）
- ウォッチリスト活用
- 🆙 余裕があればJQuants API設定に挑戦
```

#### 🟡 中級者パス（1ヶ月）
```bash
Week 1-2: API活用と精度向上
- JQuants API設定
- 手動重み付け実験
- パラメータ調整体験

Week 3-4: 戦略的分析
- 業界別分析
- リスク設定最適化
- バックテスト結果詳細分析
```

#### 🔴 上級者パス（2ヶ月+）
```bash
Month 1: グローバル分析学習
- ハイブリッド検索活用
- 通貨・地域分散投資の学習
- 高度指標分析の習得

Month 2: ポートフォリオ構築学習
- 相関分析活用の学習
- リスクリターン最適化の理解
- 投資戦略構築の実践学習
```

---

## 📊 プロジェクト構造

```bash
TradeSim/
├── app.py                      # メインアプリケーション
├── requirements.txt            # 依存関係
├── README.md                  # このファイル
├── 
├── tests/                     # テストスイート (58個)
│   ├── test_integration.py   # 統合テスト (14個)
│   ├── test_signals.py       # シグナル生成テスト (24個)
│   └── test_technical.py     # テクニカル分析テスト (20個)
├── 
├── config/                    # 設定管理
│   ├── settings.py           # アプリケーション設定
│   ├── api_config.py         # API認証設定
│   └── __init__.py
├── 
├── core/                      # アプリケーションコア
│   ├── app_controller.py     # メイン業務ロジック
│   ├── state_manager.py      # セッション状態管理
│   └── __init__.py
├── 
├── data/                      # データ取得・管理
│   ├── stock_fetcher.py      # 🆕 JQuants/Alpha Vantage統合
│   ├── validators.py         # データ検証
│   ├── cache_manager.py      # キャッシュ管理
│   └── __init__.py
├── 
├── analysis/                  # 分析エンジン
│   ├── technical.py          # テクニカル分析
│   ├── signals.py            # シグナル生成
│   ├── backtest.py           # バックテスト
│   ├── pattern_detector.py   # パターン検出
│   └── __init__.py
├── 
├── ui/                        # ユーザーインターフェース
│   ├── components.py         # 🆕 API設定UI
│   ├── settings_ui.py        # 🆕 統合検索UI
│   ├── analysis_ui.py        # 分析結果表示
│   ├── portfolio_ui.py       # ポートフォリオ管理
│   ├── guide_ui.py           # ガイド・ヘルプ
│   ├── charts.py             # チャート生成
│   ├── styles.py             # スタイル管理
│   └── __init__.py
└── 
└── portfolio/                 # ポートフォリオ管理
    ├── manager.py            # ポートフォリオロジック
    ├── watchlist.py          # ウォッチリスト
    └── __init__.py
```

---

## 🆕 v2.1 更新内容

### 新機能
- ✅ JQuants API統合（日本株全上場企業検索）
- ✅ Alpha Vantage API統合（グローバル株式検索）
- ✅ 統合検索システム（ハイブリッド検索）
- ✅ 市場情報自動取得（取引所・通貨・地域）
- ✅ 多通貨対応ポートフォリオ
- ✅ **包括的投資用語集を追加**

### 改善点
- ✅ 企業データベース削除（約200行のコード削減）
- ✅ リアルタイム企業情報取得
- ✅ 検索精度の大幅向上
- ✅ メンテナンス性向上（自動更新）

### パフォーマンス
- ✅ API認証トークンキャッシュで高速化
- ✅ 重複除去アルゴリズム最適化
- ✅ エラーハンドリング強化

---

## ⚠️ 重要な注意点

### 🚫 **このアプリでは投資助言をしません**
- アプリの分析結果は**学習用**です
- 実際の投資判断は**自己責任**で行ってください
- **専門家への相談**をおすすめします

### ✅ **学習目的での活用方法**
- 用語の意味を理解する
- 株価の動きのパターンを学ぶ
- リスク管理の重要性を体験する
- 投資の基本的な考え方を身につける

---

## 📄 ライセンス

MIT License - 個人・教育・商用利用自由

## ⚠️ 免責事項

本アプリケーションは**教育・学習目的専用**です。投資助言は行いません。実際の投資判断は自己責任で行い、必要に応じて専門家にご相談ください。

## 🔗 関連リンク

- **[JQuants公式サイト](https://jpx-jquants.com/)** - 日本株データAPI
- **[Alpha Vantage公式サイト](https://www.alphavantage.co/)** - グローバル株式データAPI  
- **[Streamlit公式ドキュメント](https://docs.streamlit.io/)** - アプリフレームワーク
- **[TA-Lib公式ドキュメント](https://ta-lib.org/)** - テクニカル分析ライブラリ
